"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[202],{28442:function(g,r,n){n.d(r,{Z:function(){return d}});function d(i){return typeof i=="string"}},75716:function(g,r,n){var d,i=n(64836);d={value:!0},r.Z=void 0;var _=i(n(64938)),l=n(85893),v=(0,_.default)((0,l.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIosSharp");r.Z=v},91811:function(g,r,n){var d,i=n(64836);d={value:!0},r.Z=void 0;var _=i(n(64938)),l=n(85893),v=(0,_.default)((0,l.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");r.Z=v},24410:function(g,r,n){var d,i=n(64836);d={value:!0},r.Z=void 0;var _=i(n(64938)),l=n(85893),v=(0,_.default)((0,l.jsx)("path",{d:"M17.41 6.59 15 5.5l2.41-1.09L18.5 2l1.09 2.41L22 5.5l-2.41 1.09L18.5 9l-1.09-2.41zm3.87 6.13L20.5 11l-.78 1.72-1.72.78 1.72.78.78 1.72.78-1.72L23 13.5l-1.72-.78zm-5.04 1.65 1.94 1.47-2.5 4.33-2.24-.94c-.2.13-.42.26-.64.37l-.3 2.4h-5l-.3-2.41c-.22-.11-.43-.23-.64-.37l-2.24.94-2.5-4.33 1.94-1.47c-.01-.11-.01-.24-.01-.36s0-.25.01-.37l-1.94-1.47 2.5-4.33 2.24.94c.2-.13.42-.26.64-.37L7.5 6h5l.3 2.41c.22.11.43.23.64.37l2.24-.94 2.5 4.33-1.94 1.47c.01.12.01.24.01.37s0 .24-.01.36zM13 14c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3z"}),"SettingsSuggest");r.Z=v},78462:function(g,r,n){n.d(r,{Z:function(){return N}});var d=n(63366),i=n(87462),_=n(67294),l=n(86010),v=n(94780),M=n(90948),S=n(71657),B=n(59773),U=n(1588),W=n(34867);function K(u){return(0,W.Z)("MuiList",u)}const P=(0,U.Z)("MuiList",["root","padding","dense","subheader"]);var Y=null,R=n(85893);const y=["children","className","component","dense","disablePadding","subheader"],z=u=>{const{classes:m,disablePadding:f,dense:h,subheader:D}=u,O={root:["root",!f&&"padding",h&&"dense",D&&"subheader"]};return(0,v.Z)(O,K,m)},F=(0,M.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(u,m)=>{const{ownerState:f}=u;return[m.root,!f.disablePadding&&m.padding,f.dense&&m.dense,f.subheader&&m.subheader]}})(({ownerState:u})=>(0,i.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!u.disablePadding&&{paddingTop:8,paddingBottom:8},u.subheader&&{paddingTop:0}));var N=_.forwardRef(function(m,f){const h=(0,S.Z)({props:m,name:"MuiList"}),{children:D,className:O,component:L="ul",dense:C=!1,disablePadding:t=!1,subheader:$}=h,J=(0,d.Z)(h,y),G=_.useMemo(()=>({dense:C}),[C]),b=(0,i.Z)({},h,{component:L,dense:C,disablePadding:t}),H=z(b);return(0,R.jsx)(B.Z.Provider,{value:G,children:(0,R.jsxs)(F,(0,i.Z)({as:L,className:(0,l.Z)(H.root,O),ref:f,ownerState:b},J,{children:[$,D]}))})})},59773:function(g,r,n){var d=n(67294);const i=d.createContext({});r.Z=i},92398:function(g,r,n){n.r(r),n.d(r,{default:function(){return q}});var d=n(19632),i=n.n(d),_=n(97857),l=n.n(_),v=n(58291),M=n(88513),S=n(75716),B=n(91811),U=n(24410),W=n(14957),K=n(43329),P=n(90948),Y=n(82280),R=n(38895),y=n(22797),z=n(59334),F=n(97212),w=n(90629),N=n(51233),u=n(69661),m=n(15861),f=n(78462),h=n(93946),D=n(98619),O=n(18987),L=n(97458),C=n(67294),t=n(85893),$=(0,P.ZP)(function(c){return(0,t.jsx)(Y.Z,l()({disableGutters:!0,elevation:0,square:!0},c))})(function(){return{}}),J=(0,P.ZP)(function(c){return(0,t.jsx)(R.Z,l()({expandIcon:(0,t.jsx)(S.Z,{sx:{fontSize:"0.9rem"}})},c))})(function(c){var E=c.theme;return{padding:0,paddingRight:10,backgroundColor:E.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, 0)","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:E.spacing(1)}}}),G=(0,P.ZP)(y.Z)(function(c){var E=c.theme;return{padding:E.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}),b=(0,P.ZP)(z.Z)(function(){return{"& .MuiListItemText-secondary":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}}),H=(0,P.ZP)(F.ZP)(function(){return{paddingLeft:8}});function q(){var c,E=(0,M.useModel)("app"),I=E.expanded,nn=E.setExpanded,an=(0,M.useModel)("@@initialState"),a=an.initialState,on=(a==null?void 0:a.apps)||[],tn=(0,M.useModel)("api"),k=tn.fetchSave,A=[],en=(a==null?void 0:a.boxdata.sysapps)||[],T=[];a==null||a.boxdata.usercfgs.appsubs.forEach(function(e){if(a!=null&&a.boxdata.appSubCaches[e.url]){var o=a==null?void 0:a.boxdata.appSubCaches[e.url];T.push(o)}}),a==null||a.boxdata.usercfgs.favapps.forEach(function(e){var o=on.find(function(s){return s.id===e});o&&A.push(o)}),T=[].concat(i()(A.length?[{id:"favApp.id",name:"\u6536\u85CF\u5E94\u7528",description:"\u6536\u85CF\u5E94\u7528",author:"",icon:(0,t.jsx)(B.Z,{sx:{color:function(o){return o.palette.common.white}}}),repo:"",apps:A,task:[],updateTime:""}]:[]),i()(T),[{id:"sysApp.id",name:"\u7CFB\u7EDF\u5E94\u7528",description:"\u7CFB\u7EDF\u5E94\u7528",author:"",icon:(0,t.jsx)(U.Z,{sx:{color:function(o){return o.palette.common.white}}}),repo:"",apps:en,task:[],updateTime:""}]);var V=a==null||(c=a.ui)===null||c===void 0?void 0:c.call(a,a==null?void 0:a.boxdata),sn=function(o){return function(s,Q){nn(Q?o:void 0)}},rn=function(o){var s=document.getElementById(o);s&&s.scrollIntoView({behavior:"smooth",block:"center"})};return(0,C.useEffect)(function(){I&&setTimeout(function(){return rn(I)},1e3)},[]),(0,t.jsx)(L.Z,{style:{marginTop:16},appear:!!(a!=null&&a.boxdata.usercfgs.isAnimate),children:T.map(function(e){return(0,t.jsx)(w.Z,{elevation:3,sx:{mb:2,overflow:"hidden",borderRadius:function(s){return s.spacing(2)}},children:(0,t.jsxs)($,{expanded:I===e.id,onChange:sn(e.id),sx:{borderRadius:function(s){return s.spacing(2)},overflow:"hidden"},children:[(0,t.jsx)(J,{"aria-controls":e.id,id:e.id,children:(0,t.jsxs)(N.Z,{spacing:2,direction:"row",justifyContent:"center",alignItems:"center",children:[typeof e.icon=="string"?(0,t.jsx)(u.Z,{id:e.id,src:e.icon,sx:{boxShadow:function(s){return s.shadows[1]}}}):(0,t.jsx)(u.Z,{id:e.id,sx:{boxShadow:function(s){return s.shadows[1]},bgcolor:function(s){return s.palette.primary.main}},children:e.icon}),(0,t.jsx)(m.Z,{children:e.name})]})}),(0,t.jsx)(G,{sx:{padding:0},children:(0,t.jsx)(L.Z,{type:["top","bottom"],leaveReverse:!0,children:I===e.id?(0,t.jsx)(f.Z,{sx:{padding:0,bgcolor:"background.paper"},children:e.apps.map(function(o,s){var Q=A.find(function(j){return j.id===o.id});return V==null||V.loadAppBaseInfo(o),(0,t.jsx)(C.Fragment,{children:(0,t.jsx)(H,{secondaryAction:Q?(0,t.jsx)(h.Z,{edge:"end","aria-label":"cancelFav",sx:{padding:0,paddingRight:"2px"},onClick:function(){var p,X=a==null?void 0:a.boxdata.usercfgs.favapps.find(function(Z){return Z===o.id});if(X){var x=a==null?void 0:a.boxdata.usercfgs;k.run({key:v.Z.userCfgs,val:JSON.stringify(l()(l()({},x),{},{favapps:x==null||(p=x.favapps)===null||p===void 0?void 0:p.filter(function(Z){return Z!==o.id})}))})}},children:(0,t.jsx)(W.Z,{color:"primary"})}):(0,t.jsx)(h.Z,{edge:"end","aria-label":"fav",sx:{padding:0,paddingRight:"2px"},onClick:function(){var p,X=a==null?void 0:a.boxdata.usercfgs.favapps.find(function(Z){return Z===o.id});if(!X){var x=a==null?void 0:a.boxdata.usercfgs;x==null||(p=x.favapps)===null||p===void 0||p.push(o.id),k.run({key:v.Z.userCfgs,val:JSON.stringify(l()({},x))})}},children:(0,t.jsx)(K.Z,{})}),children:(0,t.jsxs)(D.Z,{sx:{padding:0,pr:"0 !important"},onClick:function(){M.history.push("/app/".concat(o.id))},children:[(0,t.jsx)(O.Z,{children:(0,t.jsx)(u.Z,{alt:o.name[0],src:o.icon,sx:{boxShadow:function(p){return p.shadows[1]}}})}),(0,t.jsx)(b,{primary:o.name,secondary:o.repo})]})},"".concat(o.id,"-").concat(s))},"".concat(o.id,"-").concat(s))})},"app_list"):null})})]})},e.id)})})}}}]);
